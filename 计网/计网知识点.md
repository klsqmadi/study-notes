### TCP三次握手

#### 等待2MSL原因

1、**为了保证客户端发送的最后一个ACK（确认）报文段能够到达服务端。**

ACK报文段发送过程中有可能丢失，因而使处在最后确认状态的服务端收不到这个确认报文段，这时服务端会超时重新传这个**FIN+ACK**报文段，而客户端就能在**2MSL**时间内收到服务端重传的**FIN+ACK**报文段。接着客户端就会重传一次**ACK（确认）**报文段，重新启动**2MSL**计时器。最后客户端和服务端都能进入关闭状态。

2、**保证在本连接持续的时间内所产生的所有报文段失效。**

#### 第三次握手失败之后

当A与B的第三次握手失败后，B在等待A回复AVK的过程中超时了，那么B会向A发送一个**RST报文**并进入关闭状态。

并不等待A第三次握手的ACK包重传，直接关闭链接

**原因：为了防止泛洪攻击**

